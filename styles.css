/* =========================================
   Cruise at Sunset â€” Cockpit/Cabin Theme
   ========================================= */

/* ---------- Tokens ---------- */
:root[data-theme="sky"]{
  --bg:#0B0F1F;
  --text:#F9FBFF;
  --muted:#C3CCE6;

  --panel:rgba(255,255,255,.10);
  --panelStroke:rgba(255,255,255,.28);
  --panelInner:rgba(255,255,255,.08);

  --primary:#FF6B9E;
  --secondary:#6E7BFF;
  --accent:#FF9C6B;

  --ok:#6CE0B6;
  --warn:#FFD366;

  --radius:22px;
  --shadow:0 26px 70px rgba(0,0,0,.55);
  --ring:0 0 0 3px color-mix(in srgb, var(--secondary) 55%, transparent);

  --title:#FDF7FF;           /* extra heller Titel */
  --titleGlow:rgba(255,107,158,.18);
}
:root[data-theme="sky-light"]{
  --bg:#F3F6FF;
  --text:#0B0F1F;
  --muted:#55648D;

  --panel:rgba(10,20,60,.06);
  --panelStroke:rgba(10,20,60,.18);
  --panelInner:#fff;

  --primary:#E64E94;
  --secondary:#4A5CFF;
  --accent:#FF7E4D;

  --radius:22px;
  --shadow:0 18px 40px rgba(10,14,40,.18);
  --ring:0 0 0 3px color-mix(in srgb, var(--secondary) 28%, transparent);

  --title:#101426;
  --titleGlow:rgba(74,92,255,.18);
}

/* ---------- Background: horizon ---------- */
html,body{height:100%; scroll-behavior:smooth}
body{
  background:
    radial-gradient(1200px 560px at 50% 110%, color-mix(in srgb, var(--accent) 30%, transparent), transparent 70%),
    radial-gradient(1000px 540px at 0% 0%, color-mix(in srgb, var(--secondary) 24%, transparent), transparent 65%),
    linear-gradient(180deg, #101633 0%, var(--bg) 62%);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}
.bg-horizon{position:fixed; inset:-1px; pointer-events:none; z-index:-2;
  background:
    radial-gradient(900px 380px at 80% 92%, rgba(255,107,158,.10), transparent 60%),
    radial-gradient(900px 380px at 10% 8%, rgba(110,123,255,.10), transparent 60%);
}
.wing-silhouette{position:fixed; right:-8vw; bottom:-6vh; width:min(60vw,1100px); height:auto; z-index:-3;}

/* ---------- Cockpit fascia (oben) ---------- */
.cockpit-fascia{
  position:sticky; top:0; z-index:10; height:44px;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.12));
  border-bottom:1px solid var(--panelStroke);
  box-shadow:inset 0 -10px 20px rgba(0,0,0,.25);
  display:flex; align-items:center; gap:18px; padding-left:16px;
}
.fascia-rivet{
  width:8px;height:8px;border-radius:50%;
  background:linear-gradient(180deg,#cbd3ff,#7d86c9);
  box-shadow:0 1px 0 rgba(255,255,255,.6), inset 0 2px 4px rgba(0,0,0,.35);
  opacity:.35;
}

/* ---------- Top bar ---------- */
.topbar{border-bottom:1px solid var(--panelStroke)}
.app-title{font-size:clamp(22px,2.8vw,32px); letter-spacing:.2px; position:relative}
.grad{background:linear-gradient(90deg,var(--secondary),var(--primary),var(--accent));
  -webkit-background-clip:text;background-clip:text;color:transparent;
  text-shadow:0 0 18px var(--titleGlow);
}
.logo-dot{display:inline-block;width:10px;height:10px;border-radius:50%;
  background:radial-gradient(circle at 35% 35%, #fff, var(--secondary));
  box-shadow:0 0 10px color-mix(in srgb,var(--secondary) 60%, transparent);
  margin-right:10px;
}
.title-trim{position:absolute; left:0; bottom:-8px; width:220px; height:2px;
  background:linear-gradient(90deg, var(--secondary), transparent); opacity:.6}

/* ---------- Grid ---------- */
.grid{display:grid; gap:26px; grid-template-columns:repeat(auto-fill,minmax(330px,1fr));}

/* ---------- Card / Window ---------- */
.card.window{
  background:var(--panel);
  backdrop-filter:saturate(120%) blur(10px);
  border:1px solid var(--panelStroke);
  border-radius:calc(var(--radius) + 10px);
  box-shadow:var(--shadow);
  padding:18px 18px 22px; position:relative;
}
.card.window::before{
  content:""; position:absolute; inset:10px;
  border-radius:calc(var(--radius) + 6px);
  background:linear-gradient(180deg, var(--panelInner) 0%, transparent 60%);
  border:1px solid color-mix(in srgb, var(--panelStroke) 76%, transparent);
  pointer-events:none;
}
.card-header{display:flex; align-items:center; justify-content:space-between; gap:12px}
.panel-title{
  color:var(--title); font-weight:800; letter-spacing:.3px;
  text-shadow:0 2px 10px rgba(0,0,0,.35), 0 0 16px var(--titleGlow);
  font-size:clamp(17px,2.1vw,20px); margin:0;
  display:flex; align-items:center; gap:.6rem;
}
.panel-icon{
  width:34px;height:34px;border-radius:999px;
  display:inline-grid; place-items:center;
  background:linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.04));
  border:1px solid var(--panelStroke); color:var(--text);
}
.card-sub{color:var(--muted); margin:8px 0 14px; font-size:1rem}

/* Altimeter line */
.altimeter{
  width:120px;height:8px;border-radius:999px; flex:0 0 auto;
  background:
    linear-gradient(90deg, transparent 0 10%, rgba(255,255,255,.35) 10% 12%, transparent 12% 22%,
                          rgba(255,255,255,.35) 22% 24%, transparent 24% 34%,
                          rgba(255,255,255,.35) 34% 36%, transparent 36% 46%,
                          rgba(255,255,255,.35) 46% 48%, transparent 48%);
  opacity:.5
}

/* ---------- Window/PortHole ---------- */
.window-porthole{
  border-radius:34px/24px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--panelStroke);
  overflow:hidden; position:relative;
}
.window-porthole::after{
  content:""; position:absolute; inset:0; border-radius:inherit;
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.09),
    inset 0 22px 40px rgba(255,255,255,.07),
    inset 0 -16px 30px rgba(0,0,0,.22);
  pointer-events:none;
}
/* Rivets around windows */
.window-rivets{
  position:absolute; inset:14px; pointer-events:none;
  background:
    radial-gradient(circle at 8% 6%, rgba(255,255,255,.5) 20%, transparent 40%) no-repeat,
    radial-gradient(circle at 92% 6%, rgba(255,255,255,.5) 20%, transparent 40%) no-repeat,
    radial-gradient(circle at 8% 94%, rgba(255,255,255,.5) 20%, transparent 40%) no-repeat,
    radial-gradient(circle at 92% 94%, rgba(255,255,255,.5) 20%, transparent 40%) no-repeat;
  background-size:8px 8px,8px 8px,8px 8px,8px 8px;
  opacity:.25;
}

/* ---------- Runway Buttons ---------- */
.btn.runway{
  --bg:linear-gradient(180deg, color-mix(in srgb,var(--primary) 96%, #fff 0%), color-mix(in srgb,var(--primary) 68%, #000 0%));
  display:inline-flex; align-items:center; gap:.6rem;
  background:var(--bg); color:#fff; border:none;
  padding:12px 18px; border-radius:999px;
  box-shadow:0 14px 34px color-mix(in srgb,var(--primary) 35%, transparent), inset 0 0 0 1px rgba(255,255,255,.18);
  position:relative; isolation:isolate;
}
.btn.runway.small{padding:8px 12px; font-size:.9rem}
.btn.runway.ghost{
  background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.05));
  color:var(--text); border:1px solid var(--panelStroke); box-shadow:none;
}
.btn.runway::before{ /* centerline glare */
  content:""; position:absolute; inset:1px; border-radius:inherit; opacity:.38;
  background:linear-gradient(90deg, transparent 0%, rgba(255,255,255,.32) 50%, transparent 100%);
  filter:blur(.8px);
}
/* chevrons */
.btn.runway.chevrons::after{
  content:""; position:absolute; inset:0; border-radius:inherit; opacity:.25;
  background:
    repeating-linear-gradient(90deg,
      transparent 0 22px,
      rgba(255,255,255,.18) 22px 26px,
      transparent 26px 48px);
  mix-blend-mode:overlay; pointer-events:none;
}
.btn.runway:hover{filter:brightness(.98)}
.btn.runway:focus-visible{outline:none; box-shadow:var(--ring)}

/* ---------- Inputs ---------- */
.input{
  display:flex; flex-direction:column; gap:6px;
  background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
  border:1px solid var(--panelStroke);
  border-radius:16px; padding:10px 12px; min-width:190px;
}
.input span{font-size:.85rem; color:var(--muted)}
.input input{appearance:none; border:none; outline:none; background:transparent; color:var(--text);}
.input input::placeholder{color:color-mix(in srgb, var(--muted) 70%, transparent)}
.input:focus-within{box-shadow:var(--ring); border-color:transparent}

/* ---------- Chips ---------- */
.chip{display:inline-flex; align-items:center; gap:.35rem; padding:.32rem .7rem; border-radius:999px;
  border:1px solid var(--panelStroke); background:linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,.06)); color:var(--text)}
.chip.tiny{font-size:.75rem; padding:.2rem .5rem}
.chip.muted{color:var(--muted)}

/* ---------- Stats (Gauge-Tiles Look) ---------- */
.stats{display:grid; gap:12px; grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}
.stat{
  position:relative; padding:14px 16px;
  background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.05));
  border:1px solid var(--panelStroke);
  border-radius:16px;
}
.stat::after{
  /* subtile gauge ring */
  content:""; position:absolute; right:12px; top:50%; width:64px; height:64px; transform:translateY(-50%);
  border-radius:50%; box-shadow:inset 0 0 0 2px rgba(255,255,255,.18), inset 0 0 0 10px rgba(255,255,255,.06);
  opacity:.35; pointer-events:none;
}
.stat .label{color:var(--muted); font-size:.88rem}
.stat .value{font-weight:900; font-size:1.28rem; letter-spacing:.2px; color:var(--text)}

/* ---------- Result list window ---------- */
.result-window{
  border:1px dashed color-mix(in srgb, var(--muted) 36%, transparent);
  border-radius:16px; padding:8px;
  background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
}

/* ---------- Loader (Turbofan) ---------- */
.loader{position:relative; display:inline-flex; align-items:center; gap:.6rem; padding:.6rem}
.loader::before{
  content:""; width:22px; height:22px; border-radius:50%;
  border:3px solid color-mix(in srgb, var(--secondary) 45%, transparent);
  border-top-color: var(--primary);
  animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}
.loader .flower{display:none}

/* ---------- Map ---------- */
.map-viewport{height:440px; position:relative}
.map-vignette{position:absolute; inset:0; pointer-events:none;
  background:radial-gradient(80% 60% at 50% 40%, transparent 60%, rgba(0,0,0,.28) 100%);
  mix-blend-mode:soft-light;
}
.leaflet-marker-icon{
  filter: drop-shadow(0 0 10px color-mix(in srgb, var(--primary) 65%, transparent))
          drop-shadow(0 0 18px color-mix(in srgb, var(--secondary) 45%, transparent));
}

/* ---------- Accessibility ---------- */
:focus-visible{outline:2px solid var(--secondary); outline-offset:2px}
@media (prefers-reduced-motion: reduce){ *{animation:none !important; transition:none !important} }
